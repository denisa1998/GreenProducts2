(this.webpackJsonpgreenproducts_react=this.webpackJsonpgreenproducts_react||[]).push([[0],{148:function(e,a,t){},199:function(e,a,t){e.exports=t(258)},204:function(e,a,t){},233:function(e,a,t){},234:function(e,a,t){e.exports=t.p+"static/media/redfruits.bff92a55.jpg"},235:function(e,a,t){},237:function(e,a,t){},238:function(e,a,t){e.exports=t.p+"static/media/scales.75dd298b.png"},258:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),o=t(36),i=t(26),s=(t(204),t(331)),m=t(169),u=t.n(m),d=t(295),p=t(314),E=t(112),g=t(7),b=["component"],f=function(e){var a=e.component,t=Object(E.a)(e,b),n=Object(g.c)((function(e){return e.user.authenticated}));return r.a.createElement(i.b,Object.assign({},t,{render:function(e){return!1===n?r.a.createElement(i.a,{to:"/login"}):r.a.createElement(a,e)}}))},O=t(153),h=t.n(O),j=t(86),y=t(154),v=t(4),C={loading:!1,authenticated:!1,loadingUsers:!1,users:[],error:"",modalErrors:{},modalLoading:!1,modalFail:"",validUser:{name:!1,lastName:!1,birthDate:!1,dni:!1,email:!1,serverStatus:!1},helperUser:{name:"",lastName:"",birthDate:"",dni:"",email:"",serverStatus:""},deleting:!1,deleted:!1,resDelete:"",dataLoading:!1,userData:{name:"",lastName:"",dni:"",email:"",birthDate:"",address:"",zip:"",city:"",phone:"",observation:""},failData:"",userSelected:{}},N={isLoading:!1,products:[],error:"",isAdding:!1,msgAdd:"",failAdd:!1,isDeleting:!1,msgDelete:"",deleted:!1,checkProducts:[],isRegistering:!1,checkoutRegistered:"",failCheckout:!1,loadingRegisters:!1,setRegisters:[],failRegisters:""},S={fCategories:["Fruta de temporada","Fruta tropical","C\xedtricos","Frutos del bosque","Sand\xedas y melones"],vCategories:["Hortalizas","Setas y hongos","Hierbas arom\xe1ticas","Ensaladas","Patatas, ajos y cebollas"]},D=[y.a],R=Object(j.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING_USER":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"SET_AUTHENTICATED":return Object(v.a)(Object(v.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED":return Object(v.a)(Object(v.a)({},e),{},{error:a.error,loading:!1});case"CLEAR_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{error:""});case"SET_LOGOUT":return C;case"LOADING_USERS":return Object(v.a)(Object(v.a)({},e),{},{loadingUsers:!0});case"USERS_LOADED":return Object(v.a)(Object(v.a)({},e),{},{loadingUsers:!1,error:"",users:a.payload});case"FAIL_USERS":return Object(v.a)(Object(v.a)({},e),{},{loadingUsers:!1,error:a.payload});case"MODAL_LOADING":return Object(v.a)(Object(v.a)({},e),{},{modalLoading:!0});case"FAIL_MODAL":return Object(v.a)(Object(v.a)({},e),{},{modalLoading:!1,modalFail:a.payload});case"USER_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{modalLoading:!1,validUser:Object(v.a)(Object(v.a)({},e.validUser),a.payload)});case"USER_HELPERS":return Object(v.a)(Object(v.a)({},e),{},{helperUser:Object(v.a)(Object(v.a)({},e.helperUser),a.payload)});case"DELETING_USER":return Object(v.a)(Object(v.a)({},e),{},{deleting:!0});case"USER_DELETED":return Object(v.a)(Object(v.a)({},e),{},{deleting:!1,deleted:!0,resDelete:a.payload});case"FAIL_DELETE":return Object(v.a)(Object(v.a)({},e),{},{deleting:!1,deleted:!1,resDelete:a.payload});case"DATA_LOADING":return Object(v.a)(Object(v.a)({},e),{},{dataLoading:!0});case"DATA_LOADED":return console.log("dataloaded"),Object(v.a)(Object(v.a)({},e),{},{dataLoading:!1,userData:a.payload});case"FAIL_DATA":return Object(v.a)(Object(v.a)({},e),{},{dataLoading:!1,failData:a.payload});case"ADD_USER":return console.log("adduser"),Object(v.a)(Object(v.a)({},e),{},{userData:Object(v.a)(Object(v.a)({},e.userData),a.payload)});case"CLEAR_USER":return console.log("clearuser"),Object(v.a)(Object(v.a)({},e),{},{userData:Object(v.a)({},C.userData),validUser:Object(v.a)({},C.validUser),helperUser:Object(v.a)({},C.helperUser),deleted:!1,resDelete:""});case"USER_SELECTED":return Object(v.a)(Object(v.a)({},e),{},{userSelected:a.payload});default:return Object(v.a)({},e)}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0});case"SET_PRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,products:a.payload});case"FAIL_PRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,error:a.payload});case"ADDING_PRODUCT":return Object(v.a)(Object(v.a)({},e),{},{isAdding:!0,failAdd:!1});case"PRODUCT_ADDED":return Object(v.a)(Object(v.a)({},e),{},{isAdding:!1,failAdd:!1,msgAdd:a.payload});case"FAIL_ADD_PRODUCT":return Object(v.a)(Object(v.a)({},e),{},{isAdding:!1,failAdd:!0,msgAdd:a.payload});case"DELETING_PRODUCT":return Object(v.a)(Object(v.a)({},e),{},{deleted:!1,isDeleting:!0});case"PRODUCT_DELETED":return Object(v.a)(Object(v.a)({},e),{},{isDeleting:!1,deleted:!0,msgDelete:a.payload});case"FAIL_PRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{isDeleting:!1,msgDelete:a.payload,deleted:!1});case"CLEAR_PRODUCT":return Object(v.a)(Object(v.a)({},e),{},{msgAdd:"",deleted:!1,msgDelete:""});case"FILL_CHECK_PRODUCTS":return e.checkProducts.push(a.payload),Object(v.a)({},e);case"REGISTERING":return Object(v.a)(Object(v.a)({},e),{},{failCheckout:!1,isRegistering:!0});case"CHECKOUT_REGISTERED":return Object(v.a)(Object(v.a)({},e),{},{failCheckout:!1,isRegistering:!1,checkoutRegistered:a.payload});case"FAIL_CHECKOUT":return Object(v.a)(Object(v.a)({},e),{},{failCheckout:!0,isRegistering:!1,checkoutRegistered:a.payload});case"CLEAR_CHECKOUT":return Object(v.a)(Object(v.a)({},e),{},{checkoutRegistered:"",checkProducts:[]});case"LOADING_REGISTERS":return Object(v.a)(Object(v.a)({},e),{},{loadingRegisters:!0,failRegisters:"",setRegisters:[]});case"SET_REGISTERS":return Object(v.a)(Object(v.a)({},e),{},{loadingRegisters:!1,failRegisters:"",setRegisters:a.payload});case"FAIL_REGISTERS":return console.log("failRegisters"),Object(v.a)(Object(v.a)({},e),{},{loadingRegisters:!1,failRegisters:a.payload,setRegisters:[]});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_FCATEGORIES":return Object(v.a)(Object(v.a)({},e),{},{fCategories:a.payload});case"UPDATE_VCATEGORIES":return Object(v.a)(Object(v.a)({},e),{},{vCategories:a.payload});default:return e}}}),T=Object(j.d)(R,{},Object(j.c)(j.a.apply(void 0,D))),x=t(29),A=t.n(x),I=t(32),w=(Object(I.a)(),"https://europe-west1-greenproducts-2e471.cloudfunctions.net/api"),k=function(){return function(e){e({type:"SET_LOGOUT"}),delete A.a.defaults.headers.common.Authorization,localStorage.removeItem("user")}},U=function(e){return function(a){return a({type:"LOADING_USERS"}),A.a.post("".concat(w,"/users"),e).then((function(e){a({type:"USERS_LOADED",payload:e.data})})).catch((function(e){a({type:"FAIL_USERS",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}},L=function(e){return function(a){return a({type:"DATA_LOADING"}),A.a.post("".concat(w,"/users/").concat(e)).then((function(e){a({type:"DATA_LOADED",payload:e.data})})).catch((function(e){console.log(e),a({type:"FAIL_DATA",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}},_=function(e){var a="Bearer ".concat(e);localStorage.setItem("user",a),A.a.defaults.headers.common.Authorization=a},P=t(15),F=t(13),G=t(2),B=t(30),z=t(341),H=t(301),W=t(300),M=t(260),V=t(156),K=t.n(V),q=t(155),Y=t.n(q),J=t(302),X=t(303),$=t(304),Q=t(160),Z=t.n(Q),ee=t(159),ae=t.n(ee),te=t(157),ne=t.n(te),re=t(158),ce=t.n(re),le=Object(d.a)((function(e){return{drawer:{zIndex:0,width:280,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:280,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(F.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}}));function oe(){var e,a,t=le(),n=Object(B.a)(),c=r.a.useState(!1),l=Object(P.a)(c,2),i=l[0],s=l[1],m=function(){s(!1)};return Object(g.c)((function(e){return e.user.authenticated}))?r.a.createElement(z.a,{variant:"permanent",className:Object(G.a)(t.drawer,(e={},Object(F.a)(e,t.drawerOpen,i),Object(F.a)(e,t.drawerClose,!i),e)),classes:{paper:Object(G.a)((a={},Object(F.a)(a,t.drawerOpen,i),Object(F.a)(a,t.drawerClose,!i),a))},onMouseOver:function(){s(!0)},onMouseOut:m},r.a.createElement("div",{className:t.toolbar},r.a.createElement(M.a,{onClick:m},"rtl"===n.direction?r.a.createElement(Y.a,null):r.a.createElement(K.a,null))),r.a.createElement(W.a,null),r.a.createElement(H.a,null,r.a.createElement(o.b,{to:"/socios"},r.a.createElement(J.a,{button:!0,key:"Gesti\xf3n de socios"},r.a.createElement(X.a,null,r.a.createElement(ne.a,null)),r.a.createElement($.a,{primary:"Gesti\xf3n de socios"})))),r.a.createElement(H.a,null,r.a.createElement(o.b,{to:"/productos"},r.a.createElement(J.a,{button:!0,key:"Gesti\xf3n de productos"},r.a.createElement(X.a,null,r.a.createElement(ce.a,null)),r.a.createElement($.a,{primary:"Gesti\xf3n de productos"})))),r.a.createElement(W.a,null),r.a.createElement(H.a,null,r.a.createElement(o.b,{to:"/informes"},r.a.createElement(J.a,{button:!0,key:"Informes y Estad\xedsticas"},r.a.createElement(X.a,null,r.a.createElement(ae.a,null)),r.a.createElement($.a,{primary:"Informes y Estad\xedsticas"})))),r.a.createElement(H.a,null,r.a.createElement(o.b,{to:"/configuracion"},r.a.createElement(J.a,{button:!0,key:"Configuraci\xf3n"},r.a.createElement(X.a,null,r.a.createElement(Z.a,null)),r.a.createElement($.a,{primary:"Configuraci\xf3n"}))))):null}var ie=t(305),se=t(306),me=t(49),ue=t(162),de=t.n(ue),pe=t(161),Ee=t.n(pe),ge={display:"flex",justifyContent:"space-around"},be={fontWeight:"700",color:"white",width:"90%",textAlign:"center"},fe={color:"white"};function Oe(e){var a=Object(g.c)((function(e){return e.user.authenticated})),t=Object(g.b)();return a?r.a.createElement(ie.a,{position:"fixed",style:ge},r.a.createElement(se.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(M.a,{color:"inherit",edge:"start",style:fe,className:"icon-style"},r.a.createElement(Ee.a,null)," Inicio")),r.a.createElement(me.a,{style:be,variant:"h5",noWrap:!0},"TIENDA ECOL\xd3GICA"),r.a.createElement(M.a,{color:"inherit",style:fe,onClick:function(){t(k())}},r.a.createElement(de.a,{fontSize:"large"})))):null}var he="https://europe-west1-greenproducts-2e471.cloudfunctions.net/api",je=function(){return function(e){return console.log("get"),e({type:"GET_PRODUCTS"}),A.a.get("".concat(he,"/mercado")).then((function(a){e({type:"SET_PRODUCTS",payload:a.data})})).catch((function(a){console.log(a),e({type:"FAIL_PRODUCTS",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}},ye=t(343),ve=t(313),Ce=t(318),Ne=t(319),Se=t(321),De=t(317),Re=t(320),Te=t(315),xe=t(172),Ae=t(83),Ie=t.n(Ae),we=t(85),ke=t.n(we),Ue=t(84),Le=t.n(Ue),_e=t(69),Pe=t.n(_e),Fe=t(337),Ge=t(322),Be=t(323),ze=t(324),He=t(345),We=t(316),Me=t(339),Ve=t(163),Ke=["inputRef","onChange"];function qe(e){var a=e.inputRef,t=e.onChange,n=Object(E.a)(e,Ke);return r.a.createElement(Ve.a,Object.assign({},n,{decimalScale:2,getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},thousandSeparator:!0,isNumericString:!0}))}var Ye=t(307),Je=t(309),Xe=t(335),$e=t(342),Qe=t(308),Ze=t(312),ea=t(333);function aa(){var e=Object(g.b)(),a=[],t=Object(n.useState)({section:"Fruta",category:"",name:"",unit:"kg",stock:"",price:"",total:0}),c=Object(P.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)({name:"",stock:""}),s=Object(P.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)({name:""}),p=Object(P.a)(d,2),E=p[0],b=p[1];a=Object(g.c)((function(e){return e.data.products})),Object(n.useEffect)((function(){}));var f=Object(g.c)((function(e){return e.ui.fCategories})),O=Object(g.c)((function(e){return e.ui.vCategories})),h={options:"Fruta"===l.section?f:O,getOptionLabel:function(e){return e}},j=[];a.forEach((function(e){l.section===e.section&&(""!==l.category?l.category===e.category&&j.push(e):j.push(e))}));var y={options:j,getOptionLabel:function(e){return e.name}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{variant:"h6",gutterBottom:!0},"Productos comprados"),r.a.createElement(Ye.a,{container:!0,spacing:6},r.a.createElement(Ye.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe.a,{component:"fieldset"},r.a.createElement($e.a,{row:!0,name:"position",value:l.section,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},{section:e.target.value,category:"",name:"",unit:"kg",stock:"",price:"",total:0})),b({name:""})}},r.a.createElement(Je.a,{value:"Fruta",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Fruta"}),r.a.createElement(Je.a,{value:"Verdura",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Verduras y hortalizas"}))),r.a.createElement(ea.a,Object.assign({},h,{value:l.category,id:"category",blurOnSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{label:"Categor\xeda",margin:"normal"}))},onChange:function(e,a){o(Object(v.a)(Object(v.a)({},l),{},{category:a,name:"",unit:"kg",stock:"",price:"",total:0})),b({name:""})}})),r.a.createElement(ea.a,Object.assign({},y,{value:E,id:"products",blurOnSelect:!0,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{label:"Producto",margin:"normal"}))},onChange:function(e,a){u({name:""}),o(Object(v.a)(Object(v.a)({},l),{},{category:a.category,name:a.name,unit:a.unit,price:a.price,total:a.price*l.stock})),b(a)}}))),r.a.createElement(Ye.a,{item:!0,xs:12,sm:6},r.a.createElement(me.a,{variant:"h6",style:{marginTop:"1rem"}},"Cantidad"),r.a.createElement(ye.a,{value:l.stock,id:"stock",onChange:function(e){var a,t=e.target.name,n=e.target.value;o(Object(v.a)(Object(v.a)({},l),{},(a={},Object(F.a)(a,t,n),Object(F.a)(a,"total",(n*l.price).toFixed(2)),a))),u({stock:""})},name:"stock",InputProps:{inputComponent:qe,endAdornment:r.a.createElement(Ze.a,{position:"end"},l.unit)}}),r.a.createElement(me.a,{variant:"h6",style:{marginTop:"1rem"}},"Precio total"),r.a.createElement(ye.a,{value:l.total,disabled:!0,style:{margin:".8rem 2rem 0 0"},id:"totakl",InputProps:{inputComponent:qe,endAdornment:r.a.createElement(Ze.a,{position:"end"},"\u20ac")}}))),""!==m.name?r.a.createElement("div",{className:"invalidForm"},m.name):null,""!==m.stock?r.a.createElement("div",{className:"invalidForm"},m.stock):null,r.a.createElement("div",{style:{position:"absolute",right:"9rem",bottom:"1.5rem"}},r.a.createElement(ve.a,{variant:"outlined",color:"primary",onClick:function(){""!==l.name?""!==l.stock?(e({type:"FILL_CHECK_PRODUCTS",payload:l}),o({section:"Fruta",category:"",name:"",unit:"kg",stock:"",price:"",total:0}),b({name:""})):u({stock:"\xa1A\xf1ade una cantidad!"}):u({name:"\xa1Selecciona un producto!"})}},"A\xf1adir producto")))}function ta(){var e=Object(n.useState)({method:"card"}),a=Object(P.a)(e,2),t=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{variant:"h6",gutterBottom:!0},"M\xe9todo de pago"),r.a.createElement(Qe.a,{component:"fieldset"},r.a.createElement($e.a,{row:!0,value:t.method,onChange:function(e){c(Object(v.a)(Object(v.a)({},t),{},{method:e.target.value}))}},r.a.createElement(Je.a,{value:"card",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Card"}),r.a.createElement(Je.a,{value:"cash",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Cash"}))),"card"===t.method?r.a.createElement(Ye.a,{container:!0,spacing:3},r.a.createElement(Ye.a,{item:!0,xs:12,md:6},r.a.createElement(ye.a,{required:!0,id:"cardName",label:"Nombre",fullWidth:!0})),r.a.createElement(Ye.a,{item:!0,xs:12,md:6},r.a.createElement(ye.a,{required:!0,id:"cardNumber",label:"N\xfamero de la tarjeta",fullWidth:!0})),r.a.createElement(Ye.a,{item:!0,xs:12,md:6},r.a.createElement(ye.a,{required:!0,id:"expDate",label:"Caducidad",fullWidth:!0})),r.a.createElement(Ye.a,{item:!0,xs:12,md:6},r.a.createElement(ye.a,{required:!0,id:"cvv",label:"CVV",helperText:"\r \xdaltimos tres d\xedgitos en la tira de firma",fullWidth:!0})),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Je.a,{control:r.a.createElement(Fe.a,{color:"secondary",name:"saveCard",value:"yes"}),label:"Recordar la tarjeta para pr\xf3ximas compras"}))):null)}var na=Object(d.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)}}}));function ra(){var e=na(),a=Object(g.c)((function(e){return e.user.userSelected})),t=[],n=Number((0).toFixed(2));return Object(g.c)((function(e){return e.data.checkProducts})).forEach((function(e){var a={name:e.name,desc:"".concat(e.stock," ").concat(e.unit),price:"".concat(e.total," \u20ac")};n+=Number(e.total),t.push(a)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{variant:"h6",gutterBottom:!0},"Resumen compra"),r.a.createElement(H.a,{disablePadding:!0},t.map((function(a){return r.a.createElement(J.a,{className:e.listItem,key:a.name},r.a.createElement($.a,{primary:a.name,secondary:a.desc}),r.a.createElement(me.a,{variant:"body2"},a.price))})),r.a.createElement(J.a,{className:e.listItem},r.a.createElement($.a,{primary:"Total"}),r.a.createElement(me.a,{variant:"subtitle1",className:e.total},n," \u20ac"))),r.a.createElement(Ye.a,{container:!0,spacing:1},r.a.createElement(Ye.a,{item:!0,xs:12,sm:6},r.a.createElement(me.a,{variant:"h6",gutterBottom:!0,className:e.title},"Socio")),r.a.createElement(Ye.a,{item:!0,xs:12,sm:6,style:{textAlign:"right"}},r.a.createElement(me.a,{gutterBottom:!0,style:{marginTop:"2rem"}},a.nombre),r.a.createElement(me.a,{gutterBottom:!0},"N\xb0 socio: ",a.nsocio))))}var ca=t(165),la=t.n(ca),oa=Object(d.a)((function(e){return{appBar:{position:"relative"},layout:Object(F.a)({width:"auto",marginLeft:e.spacing(0),marginRight:e.spacing(0)},e.breakpoints.up(600+2*e.spacing(2)),{width:900,marginLeft:"0"}),paper:Object(F.a)({position:"relative",marginTop:e.spacing(0),marginBottom:e.spacing(0),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(2),marginLeft:e.spacing(1)}}})),ia=["Productos comprados","Facturaci\xf3n","Revisar pedido"];function sa(){var e=oa(),a=Object(g.b)(),t=Object(n.useState)(0),c=Object(P.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)({cart:"",socio:""}),s=Object(P.a)(i,2),m=s[0],u=s[1],d=Object(g.c)((function(e){return e.data.isLoading})),E=Object(g.c)((function(e){return e.data.checkProducts})),b=Object(g.c)((function(e){return e.user.userSelected})),f=Object(g.c)((function(e){return e.data.checkProducts.length})),O=Object(g.c)((function(e){return e.data.isRegistering})),h=Object(g.c)((function(e){return e.data.checkoutRegistered})),j=Object(g.c)((function(e){return e.data.failCheckout}));Object(n.useEffect)((function(){j||""===h||setTimeout((function(){a({type:"CLEAR_CHECKOUT"}),o(0)}),3e3)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(xe.a,{className:e.paper,style:{margin:"0"}},d?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement(me.a,{component:"h1",variant:"h4",align:"center"},"Registrar Compra"),r.a.createElement(ve.a,{style:{position:"absolute",right:"1rem",top:"0"},endIcon:r.a.createElement(la.a,{style:{fontSize:27}})},r.a.createElement("h2",null,f)),r.a.createElement(He.a,{activeStep:l,className:e.stepper},ia.map((function(e){return r.a.createElement(We.a,{key:e},r.a.createElement(Me.a,null,e))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(aa,null);case 1:return r.a.createElement(ta,null);case 2:return r.a.createElement(ra,null);default:throw new Error("Unknown step")}}(l),0===f&&""!==m.cart?r.a.createElement("div",{className:"invalidForm"},m.cart):null,b.nombre||""===m.socio?null:r.a.createElement("div",{className:"invalidForm"},m.socio),O?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,""!==h?r.a.createElement("div",{className:j?"invalidForm":"validForm"},h):null,r.a.createElement("div",{className:e.buttons},0!==l&&r.a.createElement(ve.a,{onClick:function(){o(l-1)},className:e.button},"Volver"),r.a.createElement(ve.a,{variant:"contained",color:"primary",onClick:function(){if(l===ia.length-1){if(0===f)return void u(Object(v.a)(Object(v.a)({},m),{},{cart:"\xa1La cesta de productos est\xe1 vac\xeda!"}));if(!b.nombre)return void u(Object(v.a)(Object(v.a)({},m),{},{socio:"\xa1Selecciona una socio!"}));var e=[];E.forEach((function(a){e.push(Object(v.a)(Object(v.a)({},a),{},{partner:b.nombre,memberNumber:b.nsocio,id:b.userId}))})),a(function(e){return function(a){return a({type:"REGISTERING"}),A.a.post("".concat(he,"/checkout/"),e).then((function(e){console.log(e),a({type:"CHECKOUT_REGISTERED",payload:e.data.msg})})).catch((function(e){console.log(e),a({type:"FAIL_CHECKOUT",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(e))}else o(l+1),u(Object(v.a)(Object(v.a)({},m),{},{socio:"",cart:""}))},className:e.button},l===ia.length-1?"Registrar compra":"Siguiente")))))))}t(233);var ma=Object(d.a)((function(e){var a;return a={root:{"& > *":{margin:e.spacing(1),width:200}},card:{display:"flex",marginTop:".5rem",padding:"0",justifyContent:"center",boxShadow:"none"},details:{display:"flex",background:"rgb(56, 28, 56)",flexDirection:"column",minWidth:"500px"},content:{flex:"1 0 auto",width:"100%"},cover:{width:500},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)},Object(F.a)(a,"content",{flexGrow:1,padding:e.spacing(3)}),Object(F.a)(a,"table",{minWidth:650}),Object(F.a)(a,"cell",{padding:".2rem"}),a}));function ua(e){var a=Object(i.g)(),c=Object(g.b)(),l=ma(),o=Object(n.useState)({nombre:"",apellido:"",dni:"",nsocio:""}),s=Object(P.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(P.a)(d,2),E=p[0],b=p[1],f=Object(n.useState)(!1),O=Object(P.a)(f,2),h=O[0],j=O[1];function y(e){u(Object(v.a)(Object(v.a)({},m),{},Object(F.a)({},e.target.id,e.target.value)))}Object(n.useEffect)((function(){c(je())}),[]);var C=Object(g.c)((function(e){return e.user.loadingUsers})),N=Object(g.c)((function(e){return e.user.users})),S=Object(g.c)((function(e){return e.user.error}));return r.a.createElement("main",{className:l.content},r.a.createElement("div",{className:l.toolbar}),r.a.createElement("div",{className:"align-center"},r.a.createElement("form",{className:l.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e&&e.preventDefault(),b(!1),j(!0),c(U({nombre:m.nombre,apellido:m.apellido,dni:m.dni,nsocio:m.nsocio}))},id:"filterForm"},r.a.createElement(ye.a,{id:"nombre",onChange:y,label:"Nombre"}),r.a.createElement(ye.a,{id:"apellido",onChange:y,label:"Apellido"}),r.a.createElement(ye.a,{id:"dni",onChange:y,label:"DNI"}),r.a.createElement(ye.a,{id:"nsocio",onChange:y,label:"N\xb0 Socio"}),r.a.createElement(ve.a,{type:"submit",variant:"outlined",color:"primary",value:"Submit"},"Buscar")),C?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement(De.a,{component:xe.a,id:"tablePrincipal"},r.a.createElement(Ce.a,{className:l.table,"aria-label":"simple table",id:"filterTable"},r.a.createElement(Ne.a,{className:"tableColor"},N.length>0&&!0===h?N.map((function(e){return r.a.createElement(Re.a,{key:e.userId,hover:!0,onClick:function(a){return function(e){var a=[];a.push(e),b(!0),c({type:"USERS_LOADED",payload:a}),c({type:"USER_SELECTED",payload:e})}({userId:e.userId,nombre:e.nombre,nsocio:e.nsocio,inscripcion:e.inscripcion,caducidad:e.caducidad,estado:e.estado})}},r.a.createElement(Se.a,{padding:"checkbox"},r.a.createElement(Fe.a,{checked:E})),r.a.createElement(Se.a,{align:"center",className:l.cell},e.nombre),r.a.createElement(Se.a,{align:"center",className:l.cell},"N\xb0 ",e.nsocio),r.a.createElement(Se.a,{align:"center",className:l.cell},r.a.createElement("span",null,e.inscripcion),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},e.caducidad)),r.a.createElement(Se.a,{align:"center"},r.a.createElement(Ie.a,{color:"primary",className:"1"===e.estado?"show":"hidden"}),r.a.createElement(Le.a,{style:{color:"rgb(255, 164, 27)"},className:"2"===e.estado?"show":"hidden"}),r.a.createElement(ke.a,{style:{color:"rgb(255, 72, 0)"},className:"3"===e.estado?"show":"hidden"}),r.a.createElement(Pe.a,{style:{color:"red"},className:"4"===e.estado?"show":"hidden"})),r.a.createElement(Se.a,{align:"center",className:l.cell},r.a.createElement(ve.a,{variant:"contained",color:"primary",size:"small",style:{color:"white"},onClick:function(t){return a.push("/usuario?id=".concat(e.userId))}},"Historial")))})):null))),0===N.length&&!0===h&&!1===C?r.a.createElement("div",{className:"noUser"},""!==S?S:"No hay resultados que coincidan con la busqueda."):null),r.a.createElement(Ge.a,{className:l.card},r.a.createElement("div",{className:l.details},r.a.createElement(Be.a,{className:l.content,style:{padding:"5px"}},r.a.createElement(sa,null))),r.a.createElement(ze.a,{className:l.cover,image:t(234)})))}var da=t(325),pa=(t(235),t(236)),Ea=Object(d.a)((function(e){var a;return{toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},paper:(a={marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},Object(F.a)(a,"marginTop","2rem"),Object(F.a)(a,"marginBottom","1rem"),a),form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ga={fontWeight:"900 ",color:"green"};function ba(e){var a=Ea(),t=Object(g.b)(),c=Object(n.useState)({email:"",password:"",emailError:"",passwordError:""}),l=Object(P.a)(c,2),o=l[0],s=l[1],m=o.email,u=o.password,d=o.emailError,E=o.passwordError,b=function(){if(m){if(pa.validate(m))return!0;s(Object(v.a)(Object(v.a)({},o),{},{emailError:"\xa1Email incorrecto!"}))}else s(Object(v.a)(Object(v.a)({},o),{},{emailError:"\xa1Introzca el email!"}))},f=function(){if(u){if(!(u.length<6))return!0;s(Object(v.a)(Object(v.a)({},o),{},{passwordError:"\xa1Contrase\xf1a incorrecta!"}))}else s(Object(v.a)(Object(v.a)({},o),{},{passwordError:"\xa1Introzca la contrase\xf1a!"}))},O=function(e){"email"==e.target.name?o.emailError="":o.passwordError="",t({type:"CLEAR_ERRORS"}),s(Object(v.a)(Object(v.a)({},o),{},Object(F.a)({},e.target.name,e.target.value)))},h=Object(g.c)((function(e){return e.user.authenticated})),j=Object(g.c)((function(e){return e.user.error})),y=Object(g.c)((function(e){return e.user.loading}));return""!==o.email&&(o.emailError=""),""!==o.password&&(o.passwordError=""),r.a.createElement("main",{className:a.content,id:"login"},h?r.a.createElement(i.a,{to:"/"}):null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(da.a,{component:"main",maxWidth:"xs",style:{background:" #ffffff3a",borderRadius:"15px",border:"2px solid #73AD21",marginTop:"6rem"}},r.a.createElement(p.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(me.a,{component:"h1",variant:"h3",style:ga},"Greenproducts"),r.a.createElement(me.a,{component:"h1",variant:"h6"},"Asociaci\xf3n Ecol\xf3gica Vegana"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){console.log(o),e.preventDefault(),b()&&f()&&t(function(e,a){return function(t){var n={email:e,password:a};return t({type:"LOADING_USER"}),A.a.post("".concat(w,"/login"),n).then((function(e){var a=e.data.token;a?(_(a),t({type:"SET_AUTHENTICATED"})):t({type:"SET_UNAUTHENTICATED",error:e.data.error})})).catch((function(){t({type:"SET_UNAUTHENTICATED",error:"Error interno. Int\xe9ntelo m\xe1s tarde!"})}))}}(m,u))}},r.a.createElement(ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Colaborador",name:"email",autoComplete:"email",autoFocus:!0,value:m,onChange:O,onBlur:b}),r.a.createElement("div",{className:"invalid-feedback"},d),r.a.createElement(ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",password:u,autoComplete:"current-password",onChange:O,onBlur:f}),r.a.createElement("div",{className:"invalid-feedback"},E),r.a.createElement("div",{className:"invalid-feedback"},j),r.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Entrar"),y?r.a.createElement(Te.a,{color:"primary"}):null))))}t(148);var fa=t(338),Oa=t(166),ha=t.n(Oa),ja=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function ya(e){var a=e.id,t=e.target,c=ja(),l=Object(g.b)(),o=Object(n.useState)(!1),i=Object(P.a)(o,2),s=i[0],m=i[1],u=function(){m(!1)},d=Object(g.c)((function(e){return e.user.deleting})),p=Object(g.c)((function(e){return e.user.deleted})),E=Object(g.c)((function(e){return e.user.resDelete})),b=Object(g.c)((function(e){return e.data.isDeleting})),f=Object(g.c)((function(e){return e.data.deleted})),O=Object(g.c)((function(e){return e.data.msgDelete}));Object(n.useEffect)((function(){(p||f)&&setTimeout((function(){m(!1)}),2e3)}),[]);var h=r.a.createElement("div",{className:c.paper},r.a.createElement(me.a,{variant:"h6"},"Los datos no podr\xe1n ser recuperados. \xbfDesea continuar?"),r.a.createElement("div",{className:c.root,style:{textAlign:"center"}},r.a.createElement(ve.a,{variant:"outlined",color:"primary",onClick:function(e){e&&e.preventDefault(),l("producto"===t?function(e){return function(a){return a({type:"DELETING_PRODUCT"}),A.a.post("".concat(he,"/deleteProduct/").concat(e)).then((function(e){a({type:"PRODUCT_DELETED",payload:e.data.message}),setTimeout((function(){a(je())}),2e3)})).catch((function(e){a({type:"FAIL_DELETE_PRODUCT",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(a):function(e){return function(a){return a({type:"DELETING_USER"}),A.a.post("".concat(w,"/delete/").concat(e)).then((function(e){a({type:"USER_DELETED",payload:"Usuario eliminado correctamente."}),a(U({nombre:"",apellido:"",dni:"",nsocio:""}))})).catch((function(e){console.log(e),a({type:"FAIL_DELETE",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(a))}},"Eliminar"),r.a.createElement(ve.a,{variant:"outlined",onClick:u},"Cancelar")),d||b?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement("div",{className:p?"validForm":"invalidForm"},E),r.a.createElement("div",{className:f?"validForm":"invalidForm"},O));return r.a.createElement("div",null,r.a.createElement(M.a,{onClick:function(){l({type:"CLEAR_USER"}),l({type:"CLEAR_PRODUCT"}),m(!0)}},r.a.createElement(ha.a,{color:"error"})),r.a.createElement(fa.a,{open:s,onClose:u,className:c.modal},h))}var va=t(326),Ca=t(327),Na=t(336),Sa=t(170),Da=t(31),Ra=t(332);function Ta(){var e,a=Object(g.b)(),t=new Date,n=t.getFullYear(),c=t.getMonth(),l=t.getDate(),o=new Date(n-18,c,l),i=Object(g.c)((function(e){return e.user.validUser.birthDate})),s=Object(g.c)((function(e){return e.user.helperUser.birthDate})),m=Object(g.c)((function(e){return e.user.userData.birthDate}));if(""!==m){var u=m.split("/");e=new Date(u[2],u[1],u[0])}else e=o;return r.a.createElement(Da.a,{utils:Sa.a},r.a.createElement(Ra.a,{error:i,helperText:s,margin:"normal",id:"date-picker-dialog",label:"Fecha nacimiento*",format:"dd/MM/yyyy",value:e,onChange:function(e){a({type:"USER_ERRORS",payload:{birthDate:!1}}),a({type:"USER_HELPERS",payload:{birthDate:""}});var t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear();a({type:"ADD_USER",payload:{birthDate:t}})},disableFuture:!0,maxDate:o}))}var xa=t(111),Aa=t.n(xa),Ia=Object(d.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},paper:{position:"absolute",width:700,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"10%",left:"20%"}}}));function wa(e){var a=e.type,t=e.user,c=Ia(),l=Object(g.b)(),o=Object(n.useState)(!1),i=Object(P.a)(o,2),s=i[0],m=i[1],u=function(){b.serverStatus&&l({type:"CLEAR_USER"}),t&&l(L(t)),m(!0)},d=function(e){var a=e.target.id,t=e.target.value;"name"!==a&&"lastName"!==a&&"city"!==a||(t=(t=t.toLowerCase()).replace(/\b\w/g,(function(e){return e.toUpperCase()}))),l({type:"ADD_USER",payload:Object(F.a)({},a,t)})},p=function(e){e&&e.preventDefault(),C()&&N()&&l(function(e,a){return function(t){var n;return t({type:"MODAL_LOADING"}),n=a?"".concat(w,"/update/").concat(a):"".concat(w,"/user"),console.log(e),A.a.post(n,e).then((function(e){t({type:"USER_ERRORS",payload:e.data.errors}),t({type:"USER_HELPERS",payload:e.data.mensaje}),t(U({nombre:"",apellido:"",dni:"",nsocio:""}))})).catch((function(){t({type:"FAIL_MODAL",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(j,t))},E=Object(g.c)((function(e){return e.user.modalLoading})),b=Object(g.c)((function(e){return e.user.validUser})),f=Object(g.c)((function(e){return e.user.helperUser})),O=Object(g.c)((function(e){return e.user.modalFail})),h=Object(g.c)((function(e){return e.user.dataLoading})),j=Object(g.c)((function(e){return e.user.userData})),y=Object(g.c)((function(e){return e.user.failData}));Object(n.useEffect)((function(){b.serverStatus&&setTimeout((function(){m(!1)}),2e3)})),Object(n.useEffect)((function(){"add"===a&&l({type:"CLEAR_USER"})}),[]);var v=function(e,a,t,n){var r=e.target.id,c=e.target.value;0===c.length?(l({type:"USER_ERRORS",payload:Object(F.a)({},r,!0)}),l({type:"USER_HELPERS",payload:Object(F.a)({},r,n)})):c.length<a?(l({type:"USER_ERRORS",payload:Object(F.a)({},r,!0)}),l({type:"USER_HELPERS",payload:Object(F.a)({},r,t)})):(l({type:"USER_ERRORS",payload:Object(F.a)({},r,!1)}),l({type:"USER_HELPERS",payload:Object(F.a)({},r,"")}))},C=function(){return""===j.birthDate&&(l({type:"USER_ERRORS",payload:{birthDate:!0}}),l({type:"USER_HELPERS",payload:{birthDate:"La fecha de nacimiento es obligatoria"}})),!(b.name||b.lastName||b.dni)},N=function(){return""!==j.name&&""!==j.lastName&&""!==j.dni&&""!==j.birthDate},S=r.a.createElement("div",{className:c.paper},h?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,""!==y?r.a.createElement("div",{className:"invalidForm"},y):null,r.a.createElement("form",{className:c.root,noValidate:!0,autoComplete:"off",onSubmit:p},r.a.createElement(ye.a,{id:"name",label:"Nombre*",type:"search",value:j.name,onChange:d,onBlur:function(e){v(e,3,"El nombre no es correcto","El nombre es obligatorio")},error:b.name,helperText:f.name}),r.a.createElement(ye.a,{id:"lastName",label:"Apellidos*",type:"search",value:j.lastName,onChange:d,onBlur:function(e){v(e,3,"El apellido no es correcto","El apellido es obligatorio")},error:b.lastName,helperText:f.lastName}),r.a.createElement(ye.a,{id:"dni",label:"Dni*",type:"search",value:j.dni,onChange:d,onBlur:function(e){v(e,9,"El DNI no es correcto","El DNI es obligatorio")},error:b.dni,helperText:f.dni}),r.a.createElement(Ta,null),r.a.createElement(ye.a,{id:"address",label:"Direcci\xf3n",type:"search",value:j.address,onChange:d}),r.a.createElement(ye.a,{id:"zip",label:"C\xf3digo postal",type:"search",value:j.zip,onChange:d}),r.a.createElement(ye.a,{id:"city",label:"Ciudad",type:"search",value:j.city,onChange:d}),r.a.createElement(ye.a,{id:"phone",label:"Tel\xe9fono",value:j.phone,type:"search",onChange:d}),r.a.createElement(ye.a,{id:"email",label:"E-mail",value:j.email,type:"search",onChange:d,error:b.email,helperText:f.email}),r.a.createElement(ye.a,{id:"observations",value:j.observations,label:"Observaciones",multiline:!0,rows:"2",rowsMax:"2",fullWidth:!0,size:"medium",InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"95%"},onChange:p}),"add"===a?r.a.createElement(ve.a,{type:"submit",variant:"outlined",color:"primary",onClick:u,style:{margin:".8rem 0 .8rem 0"}},"A\xf1adir usuario"):r.a.createElement(ve.a,{type:"submit",variant:"outlined",color:"primary",onClick:p,style:{margin:".8rem 0 .8rem 0"}},"Actualizar usuario")),E?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement("div",{className:b.serverStatus?"validForm":"invalidForm"},""!==O?O:f.serverStatus));return r.a.createElement("div",null,"add"===a?r.a.createElement(ve.a,{type:"submit",variant:"outlined",color:"primary",onClick:u,style:{margin:".8rem 0 .8rem 0"}},"A\xf1adir usuario"):r.a.createElement(M.a,{onClick:u,style:{color:"yellow"}},r.a.createElement(Aa.a,null)),r.a.createElement(fa.a,{open:s,onClose:function(){m(!1)}},S))}var ka=t(76),Ua=t.n(ka),La=t(78),_a=t.n(La),Pa=t(77),Fa=t.n(Pa),Ga=t(75),Ba=t.n(Ga),za=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:200,marginBottom:"1.5rem"}},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},table:{minWidth:650},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,paddingBottom:0},header:{fontWeight:"bold",fontSize:"1rem",padding:".5rem"},cell:{padding:".4rem"}}}));function Ha(e){var a=Object(i.g)(),t=za(),c=Object(g.b)(),l=Object(n.useState)({nombre:"",apellido:"",dni:"",nsocio:""}),o=Object(P.a)(l,2),s=o[0],m=o[1],u=r.a.useState(0),d=Object(P.a)(u,2),p=d[0],E=d[1],b=r.a.useState(5),f=Object(P.a)(b,2),O=f[0],h=f[1];function j(e){m(Object(v.a)(Object(v.a)({},s),{},Object(F.a)({},e.target.id,e.target.value)))}Object(n.useEffect)((function(){y()}),[]);var y=function(e){e&&e.preventDefault(),c(U({nombre:s.nombre,apellido:s.apellido,dni:s.dni,nsocio:s.nsocio}))},C=Object(g.c)((function(e){return e.user.loadingUsers})),N=Object(g.c)((function(e){return e.user.users})),S=Object(g.c)((function(e){return e.user.error}));return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement("div",{className:""},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:y,id:"filterForm"},r.a.createElement(ye.a,{id:"nombre",onChange:j,label:"Nombre"}),r.a.createElement(ye.a,{id:"apellido",onChange:j,label:"Apellido"}),r.a.createElement(ye.a,{id:"dni",onChange:j,label:"DNI"}),r.a.createElement(ye.a,{id:"nsocio",onChange:j,label:"N\xb0 Socio"}),r.a.createElement(ve.a,{type:"submit",variant:"outlined",color:"primary",value:"Submit"},"Buscar"))),C?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement(Ye.a,{container:!0,spacing:2},r.a.createElement(Ye.a,{item:!0,xs:12,sm:2},r.a.createElement(wa,{type:"add"})),r.a.createElement(Ye.a,{item:!0,xs:12,sm:10},r.a.createElement(xe.a,{className:t.paper},r.a.createElement(Ye.a,{container:!0,spacing:0},r.a.createElement(Ye.a,{item:!0,sm:3},r.a.createElement(Ie.a,{color:"primary",fontSize:"large"}),r.a.createElement("p",{className:"iconos"}," Todo OK")),r.a.createElement(Ye.a,{item:!0,sm:3},r.a.createElement(ke.a,{style:{color:"rgb(255, 72, 0)"},fontSize:"large"}),r.a.createElement("p",{className:"iconos"},"Socio lleva X meses sin venir")),r.a.createElement(Ye.a,{item:!0,sm:3},r.a.createElement(Le.a,{style:{color:"rgb(255, 196, 0)"},fontSize:"large"}),r.a.createElement("p",{className:"iconos"}," Falta alg\xfan dato")),r.a.createElement(Ye.a,{item:!0,sm:3},r.a.createElement(Pe.a,{style:{color:"red"},fontSize:"large"}),r.a.createElement("p",{className:"iconos"}," Socio desactivado")))))),r.a.createElement(De.a,{component:xe.a,id:"tablaUsuarios"},r.a.createElement(Ce.a,{className:t.table,id:"filterTable"},r.a.createElement(va.a,null,r.a.createElement(Re.a,{className:"tablaUsuarios"},r.a.createElement(Se.a,{align:"center",className:t.header},"Socio"),r.a.createElement(Se.a,{align:"center",className:t.header},"N\xb0"),r.a.createElement(Se.a,{align:"center",className:t.header},r.a.createElement("span",null,"Inscripci\xf3n"),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},"Caducidad")),r.a.createElement(Se.a,{align:"center",className:t.header},"Estado"),r.a.createElement(Se.a,{align:"center",className:t.header},"Editar"),r.a.createElement(Se.a,{align:"center",className:t.header},"Eliminar"),r.a.createElement(Se.a,{align:"center",className:t.header},"Historial"))),r.a.createElement(Ne.a,null,N.length>0?N.slice(p*O,p*O+O).map((function(e){return r.a.createElement(Re.a,{key:e.userId},r.a.createElement(Se.a,{align:"center",className:t.cell},e.nombre),r.a.createElement(Se.a,{align:"center",className:t.cell},"N\xb0 ",e.nsocio),r.a.createElement(Se.a,{align:"center",className:t.cell},r.a.createElement("span",null,e.inscripcion),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},e.caducidad)),r.a.createElement(Se.a,{align:"center"},r.a.createElement(Ie.a,{color:"primary",className:"1"===e.estado?"show":"hidden"}),r.a.createElement(Le.a,{style:{color:"rgb(255, 196, 0)"},className:"2"==e.estado?"show":"hidden"}),r.a.createElement(ke.a,{style:{color:"rgb(255, 72, 0)"},className:"3"==e.estado?"show":"hidden"}),r.a.createElement(Pe.a,{style:{color:"red"},className:"4"==e.estado?"show":"hidden"})),r.a.createElement(Se.a,{align:"center",className:t.cell},r.a.createElement(wa,{type:"edit",user:e.userId})),r.a.createElement(Se.a,{align:"center",className:t.cell},r.a.createElement(ya,{id:e.userId})),r.a.createElement(Se.a,{align:"center",className:t.cell},r.a.createElement(ve.a,{variant:"contained",color:"primary",size:"small",style:{color:"white"},onClick:function(t){return a.push("/usuario?id=".concat(e.userId))}},"Historial")))})):null),N.length>0?r.a.createElement(Ca.a,null,r.a.createElement(Re.a,null,r.a.createElement(Na.a,{labelRowsPerPage:"L\xedneas por p\xe1gina",rowsPerPageOptions:[5,10,25,{label:"Todos",value:-1}],colSpan:6,count:N.length,rowsPerPage:O,page:p,ActionsComponent:Ma,onChangePage:function(e,a){E(a)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),E(0)}}))):null)),0===N.length&&!1===C?r.a.createElement("div",{className:"noUser"},""!=S?S:"No hay resultados que coincidan con la busqueda."):null)}var Wa=Object(d.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Ma(e){var a=Wa(),t=Object(B.a)(),n=e.count,c=e.page,l=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:a.root},r.a.createElement(M.a,{onClick:function(e){o(e,0)},disabled:0===c,"aria-label":"first page"},"rtl"===t.direction?r.a.createElement(Ba.a,null):r.a.createElement(Ua.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,c-1)},disabled:0===c,"aria-label":"previous page"},"rtl"===t.direction?r.a.createElement(Fa.a,null):r.a.createElement(_a.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,c+1)},disabled:c>=Math.ceil(n/l)-1,"aria-label":"next page"},"rtl"===t.direction?r.a.createElement(_a.a,null):r.a.createElement(Fa.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/l)-1))},disabled:c>=Math.ceil(n/l)-1,"aria-label":"last page"},"rtl"===t.direction?r.a.createElement(Ua.a,null):r.a.createElement(Ba.a,null)))}var Va=t(330),Ka=t(329),qa=t(328),Ya=t(340);function Ja(){return r.a.createElement(me.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(qa.a,{color:"inherit"},"GreenProducts")," ",(new Date).getFullYear(),".")}var Xa=Object(d.a)((function(e){var a;return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},content:{flexGrow:1,padding:e.spacing(3)},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),link:{margin:e.spacing(1,1.5)},title:{marginBottom:"2rem"},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},config:(a={borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(0),paddingTop:e.spacing(0),paddingBottom:e.spacing(0)},Object(F.a)(a,e.breakpoints.up("sm"),{paddingTop:e.spacing(3),paddingBottom:e.spacing(6)}),Object(F.a)(a,"borderBottom","1px solid ".concat(e.palette.divider)),a),footer:Object(F.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(15),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function $a(){var e=Xa(),a=[{title:"Categor\xedas frutas",description:Object(g.c)((function(e){return e.ui.fCategories})),buttonText:"A\xf1adir"},{title:"Categor\xeda verduras",description:Object(g.c)((function(e){return e.ui.vCategories})),buttonText:"A\xf1adir"}];return r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(da.a,{className:e.title},r.a.createElement(me.a,{variant:"h6",align:"center",color:"textSecondary"},"GreenProducts Configuraciones")),r.a.createElement(da.a,{maxWidth:"md",component:"main"},r.a.createElement(Ye.a,{container:!0,spacing:7,alignItems:"flex-end"},a.map((function(a){return r.a.createElement(Ye.a,{item:!0,key:a.title,xs:12,md:4},r.a.createElement(Ge.a,null,r.a.createElement(Ka.a,{title:a.title,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},className:e.cardHeader}),r.a.createElement(Be.a,null,r.a.createElement("ul",null,a.description.map((function(e){return r.a.createElement(me.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)})))),r.a.createElement(Va.a,null,r.a.createElement(ve.a,{fullWidth:!0,variant:"outlined",color:"primary"},a.buttonText))))})),r.a.createElement(Ye.a,{item:!0,xs:12,md:4},[{title:"Alerta socio lleva sin venir: ",description:["1 mes","3 meses","6 meses"]}].map((function(a){return r.a.createElement("div",{className:e.config},r.a.createElement(me.a,{variant:"h6",color:"textPrimary",gutterBottom:!0},a.title),r.a.createElement(Qe.a,{component:"fieldset"},r.a.createElement($e.a,{"aria-label":"gender",name:"gender1",value:"1 mes"},a.description.map((function(e){return r.a.createElement(Je.a,{value:e,control:r.a.createElement(Xe.a,null),label:e})})))))}))))),r.a.createElement(da.a,{maxWidth:"md",component:"footer",className:e.footer},r.a.createElement(Ye.a,{container:!0,spacing:4,justify:"space-evenly"}),r.a.createElement(Ya.a,{mt:5},r.a.createElement(Ja,null))))}var Qa=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:200}},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function Za(){var e=Qa();return r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement("h1",null,"Informes y Estadisticas"))}var et=t(167),at=t.n(et),tt=t(344),nt=t(310),rt=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),marginBottom:"1.5rem"}},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},table:{minWidth:650},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,paddingBottom:0},layout:{marginBottom:e.spacing(3),padding:e.spacing(2)},header:{fontWeight:"bold",fontSize:"1rem",padding:".5rem"},cell:{padding:".4rem"},textField:{width:"50ch"},container:{border:"2px solid rgb(56, 28, 56)"}}}));function ct(e){var a=rt(),t=Object(g.b)(),c=Object(n.useState)({section:"Fruta",category:null,name:"",price:"",stock:"",unit:"Kg"}),l=Object(P.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)({category:!1,name:!1,price:!1}),m=Object(P.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)({category:"\xa1Selecciona una categor\xeda!",name:"Nombre invalido",price:"Precio invalido"}),E=Object(P.a)(p,2),b=E[0],f=(E[1],Object(n.useState)(!1)),O=Object(P.a)(f,2),h=O[0],j=O[1],y=Object(n.useState)(""),C=Object(P.a)(y,2),N=C[0],S=C[1],D=r.a.useState(0),R=Object(P.a)(D,2),T=R[0],x=R[1],I=r.a.useState(5),w=Object(P.a)(I,2),k=w[0],U=w[1];function L(e){var a=e.target.name,t=e.target.value;i(Object(v.a)(Object(v.a)({},o),{},Object(F.a)({},a,t))),d(Object(v.a)(Object(v.a)({},u),{},Object(F.a)({},a,!1)))}function _(e){i(Object(v.a)(Object(v.a)({},o),{},Object(F.a)({},e.target.name,e.target.value)))}Object(n.useEffect)((function(){t(je())}),[]);var G=Object(g.c)((function(e){return e.data.products})),B=Object(g.c)((function(e){return e.data.isLoading})),z=Object(g.c)((function(e){return e.data.error})),H=Object(g.c)((function(e){return e.data.isAdding})),V=Object(g.c)((function(e){return e.data.failAdd})),K=Object(g.c)((function(e){return e.data.msgAdd})),q=Object(g.c)((function(e){return e.ui.fCategories})),Y=Object(g.c)((function(e){return e.ui.vCategories})),J={options:"Fruta"===o.section?q:Y,getOptionLabel:function(e){return e}},X=function(e,a){var t=e.trim().toLowerCase(),n=a.trim().toLowerCase();return t.includes(n)},$=G.filter((function(e){if(X(e.name,N)||X(e.section,N)||X(e.category,N))return e}));return r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(xe.a,{className:a.layout},r.a.createElement(me.a,{component:"h1",variant:"h5",align:"center"},h?"Actualizar producto":"A\xf1adir producto"),r.a.createElement(W.a,{variant:"middle",style:{marginBottom:".2rem"}}),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){var a;(e&&e.preventDefault(),o.category)?""!==o.name?""!==o.price?(t(h?function(e,a){return function(t){return t({type:"ADDING_PRODUCT"}),A.a.post("".concat(he,"/updateProduct/").concat(e),a).then((function(e){t({type:"PRODUCT_ADDED",payload:e.data.msg}),setTimeout((function(){t(je()),t({type:"CLEAR_PRODUCT"})}),2e3)})).catch((function(e){t({type:"FAIL_ADD_PRODUCT",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(o.id,o):(a=o,function(e){return e({type:"ADDING_PRODUCT"}),A.a.post("".concat(he,"/mercado"),a).then((function(a){e({type:"PRODUCT_ADDED",payload:a.data.msg}),setTimeout((function(){e(je()),e({type:"CLEAR_PRODUCT"})}),2e3)})).catch((function(){e({type:"FAIL_ADD_PRODUCT",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))})),i({section:"Fruta",category:"",name:"",price:"",stock:"",unit:"Kg"}),j(!1)):d(Object(v.a)(Object(v.a)({},u),{},{price:!0})):d(Object(v.a)(Object(v.a)({},u),{},{name:!0})):d(Object(v.a)(Object(v.a)({},u),{},{category:!0}))}},r.a.createElement(Ye.a,{container:!0,spacing:0,style:{textAlign:"center"}},r.a.createElement(Ye.a,{item:!0,xs:6,sm:3},r.a.createElement(Qe.a,{component:"fieldset"},r.a.createElement($e.a,{name:"section",value:o.section,onChange:_},r.a.createElement(Je.a,{value:"Fruta",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Fruta"}),r.a.createElement(Je.a,{value:"Verdura",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Verduras y hortalizas"})))),r.a.createElement(Ye.a,{item:!0,xs:6,sm:3},r.a.createElement(ea.a,Object.assign({},J,{id:"categories",blurOnSelect:!0,value:o.category,renderInput:function(e){return r.a.createElement(ye.a,Object.assign({},e,{label:"Categor\xeda",margin:"normal"}))},onChange:function(e,a){i(Object(v.a)(Object(v.a)({},o),{},{category:a})),d(Object(v.a)(Object(v.a)({},u),{},{category:!1}))}}))),r.a.createElement(Ye.a,{item:!0,xs:6,sm:3,style:{marginTop:".9rem"}},r.a.createElement(ye.a,{value:o.name,id:"name",onChange:function(e){var a=e.target.id,t=e.target.value;"name"===a&&(t=(t=t.toLowerCase()).replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()}))),i(Object(v.a)(Object(v.a)({},o),{},Object(F.a)({},a,t))),d(Object(v.a)(Object(v.a)({},u),{},Object(F.a)({},a,!1)))},label:"Producto",error:u.name,onBlur:function(e){e.target.value.length<3?d(Object(v.a)(Object(v.a)({},u),{},{name:!0})):d(Object(v.a)(Object(v.a)({},u),{},{name:!1}))},helperText:!0===u.name?b.name:""})),r.a.createElement(Ye.a,{item:!0,xs:6,sm:3},r.a.createElement(ye.a,{value:o.price,error:u.price,style:{margin:".8rem 2rem 0 0"},label:"Precio",onChange:L,name:"price",id:"price",onBlur:function(e){e.target.value<=0?d(Object(v.a)(Object(v.a)({},u),{},{price:!0})):d(Object(v.a)(Object(v.a)({},u),{},{price:!1}))},InputProps:{inputComponent:qe,endAdornment:r.a.createElement(Ze.a,{position:"end"},"\u20ac")}})),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Qe.a,{component:"fieldset",style:{margin:"1rem 2rem 0 0"}},r.a.createElement($e.a,{row:!0,name:"unit",value:o.unit,onChange:_},r.a.createElement(Je.a,{value:"Kg",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Por kg"}),r.a.createElement(Je.a,{value:"Ud.",control:r.a.createElement(Xe.a,{color:"primary"}),label:"Por unidad"}))),r.a.createElement(ye.a,{value:o.stock,id:"stock",onChange:L,name:"stock",label:"Cantidad",InputProps:{inputComponent:qe,endAdornment:r.a.createElement(Ze.a,{position:"end"},o.unit)}}),r.a.createElement(ve.a,{style:{margin:"1rem .8rem",padding:".2rem 1.2rem"},type:"submit",variant:"outlined",color:"primary",value:"Submit"},h?"Actualizar":"A\xf1adir"),r.a.createElement(ve.a,{style:{margin:"1rem 0",padding:".2rem .3rem"},variant:"outlined",value:"Submit",onClick:function(){i({section:"Fruta",category:"",name:"",price:"",stock:"",unit:"Kg"}),j(!1)}},"Cancelar")))),H?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,u.category?r.a.createElement("div",{className:"invalidForm"},b.category):null,""!==K?r.a.createElement("div",{className:V?"invalidForm":"validForm"},K):null),B?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,r.a.createElement(De.a,{component:xe.a,className:a.container},r.a.createElement(Ce.a,{className:a.table},r.a.createElement(va.a,null,r.a.createElement(Re.a,null,r.a.createElement(Se.a,{align:"center",className:a.title,colSpan:3},r.a.createElement(me.a,{variant:"h4",style:{fontSize:"1.9rem"}},"Existencias")),r.a.createElement(Se.a,{align:"center",className:a.title,colSpan:4},r.a.createElement(Qe.a,{className:a.textField},r.a.createElement(tt.a,{htmlFor:"search"},"Buscar"),r.a.createElement(nt.a,{id:"search",onChange:function(e){return a=e.target.value,void S(a);var a},endAdornment:r.a.createElement(Ze.a,{position:"end"},r.a.createElement(M.a,null,r.a.createElement(at.a,null)))}))))),r.a.createElement(va.a,{style:{background:"rgba(111, 162, 114, 0.534)"}},r.a.createElement(Re.a,null,r.a.createElement(Se.a,{align:"center",className:a.header},"Editar"),r.a.createElement(Se.a,{align:"center",className:a.header},"Producto"),r.a.createElement(Se.a,{align:"center",className:a.header},"Secci\xf3n"),r.a.createElement(Se.a,{align:"center",className:a.header},"Categor\xeda"),r.a.createElement(Se.a,{align:"center",className:a.header},"Precio"),r.a.createElement(Se.a,{align:"center",className:a.header},"Existencias"),r.a.createElement(Se.a,{align:"center",className:a.header},"Unidad/Kg"),r.a.createElement(Se.a,{align:"center",className:a.header},"Actualizado"),r.a.createElement(Se.a,{align:"center",className:a.header},"Eliminar"))),r.a.createElement(Ne.a,{style:{background:"rgba(143, 115, 49, 0.253)"}},$.length>0?$.slice(T*k,T*k+k).map((function(e){return r.a.createElement(Re.a,{key:e.id},r.a.createElement(Se.a,{align:"center",className:a.cell},r.a.createElement(M.a,{onClick:function(){return a=e.id,void G.forEach((function(e){if(e.id===a)return i(Object(v.a)({},e)),document.getElementById("name").focus(),d(Object(v.a)(Object(v.a)({},u),{},{category:!1})),void j(!0)}));var a},style:{color:"yellow"}},r.a.createElement(Aa.a,null))),r.a.createElement(Se.a,{align:"center",className:a.cell},e.name),r.a.createElement(Se.a,{align:"center",className:a.cell},e.section),r.a.createElement(Se.a,{align:"center"},e.category),r.a.createElement(Se.a,{align:"center",className:a.cell},e.price),r.a.createElement(Se.a,{align:"center",className:a.cell},e.stock),r.a.createElement(Se.a,{align:"center",className:a.cell},e.unit),r.a.createElement(Se.a,{align:"center",className:a.cell},e.date),r.a.createElement(Se.a,{align:"center",className:a.cell},r.a.createElement(ya,{id:e.id,target:"producto"})))})):null),G.length>0?r.a.createElement(Ca.a,null,r.a.createElement(Re.a,null,r.a.createElement(Na.a,{labelRowsPerPage:"L\xedneas por p\xe1gina",rowsPerPageOptions:[5,10,25,{label:"Todos",value:-1}],colSpan:6,count:G.length,rowsPerPage:k,page:T,ActionsComponent:ot,onChangePage:function(e,a){x(a)},onChangeRowsPerPage:function(e){U(parseInt(e.target.value,10)),x(0)}}))):null)),0===G.length&&!1===B?r.a.createElement("div",{className:"noUser"},""!=z?z:"No hay resultados que coincidan con la busqueda."):null)}var lt=Object(d.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function ot(e){var a=lt(),t=Object(B.a)(),n=e.count,c=e.page,l=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:a.root},r.a.createElement(M.a,{onClick:function(e){o(e,0)},disabled:0===c,"aria-label":"first page"},"rtl"===t.direction?r.a.createElement(Ba.a,null):r.a.createElement(Ua.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,c-1)},disabled:0===c,"aria-label":"previous page"},"rtl"===t.direction?r.a.createElement(Fa.a,null):r.a.createElement(_a.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,c+1)},disabled:c>=Math.ceil(n/l)-1,"aria-label":"next page"},"rtl"===t.direction?r.a.createElement(_a.a,null):r.a.createElement(Fa.a,null)),r.a.createElement(M.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/l)-1))},disabled:c>=Math.ceil(n/l)-1,"aria-label":"last page"},"rtl"===t.direction?r.a.createElement(Ua.a,null):r.a.createElement(Ba.a,null)))}t(237);var it=t(168),st=t.n(it),mt=Object(d.a)((function(e){var a;return{root:{"& > *":{margin:e.spacing(1),width:200}},toolbar:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"25vh"},observation:(a={padding:e.spacing(0),textAlign:"right",height:"25vh"},Object(F.a)(a,"padding","1rem 4rem .5rem 0"),Object(F.a)(a,"position","relative"),a),close:{position:"absolute",color:"red",right:0,top:0}}}));function ut(e){var a=mt(),c=Object(g.b)(),l=e.location.search.split("=")[1],o=Object(n.useState)(!1),i=Object(P.a)(o,2),s=i[0],m=i[1];Object(n.useEffect)((function(){c(L(l)),c(function(e){return function(a){var t;return a({type:"LOADING_REGISTERS"}),t=e?"".concat(he,"/history/").concat(e):"".concat(he,"/history"),A.a.get(t).then((function(e){a({type:"SET_REGISTERS",payload:e.data.data})})).catch((function(e){console.log(e),a({type:"FAIL_REGISTERS",payload:"Error interno. \xa1Int\xe9ntelo m\xe1s tarde!"})}))}}(l))}),[]);var u=Object(g.c)((function(e){return e.user.dataLoading})),d=Object(g.c)((function(e){return e.user.userData})),p=Object(g.c)((function(e){return e.user.failData})),E=Object(g.c)((function(e){return e.data.loadingRegisters})),b=Object(g.c)((function(e){return e.data.setRegisters})),f=Object(g.c)((function(e){return e.data.failRegisters})),O=Number((0).toFixed(2)),h=Number((0).toFixed(2)),j=Number((0).toFixed(2));return b.forEach((function(e){O+=Number(e.total),"Fruta"===e.section&&(h+=Number(e.total)),"Verdura"===e.section&&(j+=Number(e.total))})),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),u||E?r.a.createElement(Te.a,{color:"primary",style:{marginBottom:"1rem"}}):null,u||E||""===p&&""===f?null:r.a.createElement("div",{className:"noUser"},p||f),""===p&&""===f?r.a.createElement("div",{className:u||E?"loading":null},r.a.createElement(Ye.a,{container:!0,spacing:1},r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(xe.a,{className:a.paper},r.a.createElement("h4",{className:"rightText"},"Socio N\xb0 ".concat(d.memberNumber)),r.a.createElement("h6",{className:"title"},"".concat(d.name," ").concat(d.lastName)),r.a.createElement("hr",{style:{border:".5px dotted",marginTop:0}}),r.a.createElement("h6",{className:"userData"},"DNI ".concat(d.dni)),r.a.createElement("h6",{className:"userData"},"Inscripci\xf3n ".concat(d.startInscriptionDate)),r.a.createElement("h6",{className:"userData"},"Caducidad ".concat(d.endInscriptionDate)))),r.a.createElement(Ye.a,{item:!0,xs:6},r.a.createElement(xe.a,{className:a.paper},r.a.createElement(Ye.a,{container:!0,spacing:1},r.a.createElement(Ye.a,{item:!0,xs:8},r.a.createElement("p",{className:"grConsum"},"Compra frutas: ",h,"\u20ac"),r.a.createElement("p",{className:"grConsum"},"Compra verduras: ",j,"\u20ac"),r.a.createElement("p",{className:"grConsum"},"Total: ",O,"\u20ac")),r.a.createElement(Ye.a,{item:!0,xs:4},r.a.createElement("img",{src:t(238),id:"scales"}))))),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(xe.a,{className:a.paper,id:"expired"},"Este socio tiene su tarjeta caducada desde el 12/02/2020")),s?r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(xe.a,{className:a.observation,elevation:3},r.a.createElement(M.a,{onClick:function(e){return m(!1)},className:a.close},r.a.createElement(Pe.a,{size:"small"})),r.a.createElement(ye.a,{id:"observation",label:"Comentario",variant:"outlined",multiline:!0,rows:3,fullWidth:!0,style:{margin:"0 0 -1rem .5rem",width:"98%",height:"80%"},defaultValue:"Comentario..."}),r.a.createElement(ve.a,{variant:"contained",color:"primary"},"Publicar"))):null),r.a.createElement(De.a,{component:xe.a,style:{marginTop:"1.8rem",background:"rgba(143, 115, 49, 0.253)"}},r.a.createElement(Ce.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(va.a,{className:"tablaHistorial"},r.a.createElement(Re.a,null,r.a.createElement(Se.a,{align:"center",style:{fontSize:"2rem"},colSpan:12},r.a.createElement(st.a,{color:"action",fontSize:"large",className:"floatLeft"}),"Historial del usuario",r.a.createElement(ve.a,{variant:"contained",color:"light",className:"floatRight",onClick:function(e){return m(!0)}},"Publicar Comentario")))),r.a.createElement(Ne.a,null,b.length>0?b.map((function(e){return r.a.createElement(Re.a,{key:e.idRegister},r.a.createElement(Se.a,{align:"right"},e.date),r.a.createElement(Se.a,{align:"right"},e.section),r.a.createElement(Se.a,{align:"right"},e.name),r.a.createElement(Se.a,{align:"right"},"".concat(e.stock," ").concat(e.unit)),r.a.createElement(Se.a,{align:"right"},e.total," \u20ac"))})):null)))):null)}var dt=u()({palette:{primary:{main:"#2e7d32"},secondary:{main:"rgb(174, 119, 199)"}}}),pt=Object(d.a)((function(e){return{root:{display:"flex"}}})),Et=localStorage.user;Et&&(1e3*h()(Et).exp<Date.now()?(T.dispatch(k()),window.location.href="/login"):(T.dispatch({type:"SET_AUTHENTICATED"}),A.a.defaults.headers.common.Authorization=Et));var gt=function(){var e=pt();return r.a.createElement(s.a,{theme:dt},r.a.createElement(g.a,{store:T},r.a.createElement("div",{className:e.root},r.a.createElement(p.a,null),r.a.createElement(o.a,null,r.a.createElement(oe,null),r.a.createElement(Oe,null),r.a.createElement(i.d,null,r.a.createElement(f,{exact:!0,path:"/",component:ua}),r.a.createElement(i.b,{exact:!0,path:"/login",component:ba}),r.a.createElement(f,{exact:!0,path:"/socios",component:Ha}),r.a.createElement(f,{exact:!0,path:"/productos",component:ct}),r.a.createElement(f,{exact:!0,path:"/informes",component:Za}),r.a.createElement(f,{exact:!0,path:"/configuracion",component:$a}),r.a.createElement(f,{exact:!0,path:"/usuario",component:ut}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[199,1,2]]]);
//# sourceMappingURL=main.480ea25a.chunk.js.map